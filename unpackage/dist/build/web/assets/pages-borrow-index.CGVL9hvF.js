import{L as e,O as a,M as l,y as t,u as s,d as c,w as o,i as u,o as i,e as n,f as d,E as r,F as f,G as p,H as m,R as _,h as v,q as y,a as g,k as h,Q as b,P as k,j as x}from"./index-BPWpFivt.js";import{_ as C}from"./uni-icons.BYj_8GlW.js";import{r as w}from"./uni-app.es.eWm_5BGm.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";const P=I({__name:"index",setup(I){let P=0;const T=e(""),j=e("15"),F=e(!1),D=e(!1),S=[{value:"7",label:"7"},{value:"15",label:"15"},{value:"30",label:"30"}],z=e([{tip:"1.ID card/driver license",image:""},{tip:"2.Payroll",image:""},{tip:"3.Proof of real estate",image:""},{tip:"4.Credit score",image:""},{tip:"5.Proof of property",image:""},{tip:"6.Guarantor Information",image:""}]),A=a((()=>{switch(parseInt(j.value)){case 7:return"0.028%";case 15:default:return"0.018%";case 30:return"0.012%"}})),U=a((()=>{const e=parseFloat(T.value)||0,a=parseInt(j.value);if(0===e)return"0.0000";let l;switch(a){case 7:l=28e-5;break;case 15:default:l=18e-5;break;case 30:l=12e-5}return(e*l*a).toFixed(4)})),H=()=>{D.value=!D.value,console.log("Agreement status:",D.value)},L=()=>{if(!D.value)return void g({title:"please agree to the agreement first",icon:"none",duration:2e3});if(!T.value||parseFloat(T.value)<=0)return void g({title:"please enter a valid loan amount",icon:"none",duration:2e3});const e=z.value.filter((e=>e.image)).length;e<6?g({title:`please upload all necessary documents (${e}/6)`,icon:"none",duration:2e3}):(console.log("apply for credit:",{amount:T.value,cycle:j.value,dailyRate:A.value,interest:U.value,uploadedPhotos:e}),g({title:"credit application submitted",icon:"success",duration:2e3}))},R=()=>{console.log("Click repayment button"),g({title:"jump to repayment page",icon:"none",duration:2e3})},V=()=>{F.value=!0,console.log("Show cycle selection modal")},B=()=>{F.value=!1,console.log("Hide cycle selection modal")};return l((()=>{try{const e=t();P=e.statusBarHeight||0,console.log("status bar height:",P)}catch(e){console.error("failed to get status bar height",e)}})),(e,a)=>{const l=u,t=h,I=b,P=w(s("uni-icons"),C),E=x;return i(),c(l,{class:"borrow-container"},{default:o((()=>[n(l,{class:"gradient-bg"}),n(l,{class:"content-area"},{default:o((()=>[n(l,{class:"main-info-box"},{default:o((()=>[n(t,{class:"main-title"},{default:o((()=>[d("In the monetary")])),_:1}),n(t,{class:"amount-display"},{default:o((()=>[d("0.00/USDT")])),_:1}),n(l,{class:"repay-button",onClick:R},{default:o((()=>[n(t,{class:"repay-button-text"},{default:o((()=>[d("To repay")])),_:1})])),_:1}),n(l,{class:"stats-section"},{default:o((()=>[n(l,{class:"stat-item left"},{default:o((()=>[n(t,{class:"stat-title"},{default:o((()=>[d("The cumulative monetary(USDT)")])),_:1}),n(t,{class:"stat-value"},{default:o((()=>[d("0.00")])),_:1})])),_:1}),n(l,{class:"stat-item right"},{default:o((()=>[n(t,{class:"stat-title"},{default:o((()=>[d("Number of outstanding payments")])),_:1}),n(t,{class:"stat-value"},{default:o((()=>[d("0")])),_:1})])),_:1})])),_:1})])),_:1}),n(l,{class:"borrow-input-box"},{default:o((()=>[n(l,{class:"input-header"},{default:o((()=>[n(l,{class:"left-section"},{default:o((()=>[n(t,{class:"input-title"},{default:o((()=>[d("Amount Borrowed(USDT)")])),_:1}),n(I,{class:"amount-input",modelValue:T.value,"onUpdate:modelValue":a[0]||(a[0]=e=>T.value=e),placeholder:"Please enter amount",type:"number"},null,8,["modelValue"])])),_:1}),n(l,{class:"right-section"},{default:o((()=>[n(t,{class:"input-title"},{default:o((()=>[d("Credit cycle(days)")])),_:1}),n(l,{class:"cycle-selector",onClick:V},{default:o((()=>[n(t,{class:"cycle-value"},{default:o((()=>[d(r(j.value),1)])),_:1}),n(P,{type:"right",size:"16",color:"#666666"})])),_:1})])),_:1})])),_:1})])),_:1}),n(l,{class:"loan-details-box"},{default:o((()=>[n(l,{class:"detail-row"},{default:o((()=>[n(t,{class:"detail-label"},{default:o((()=>[d("Daily rate")])),_:1}),n(t,{class:"detail-value"},{default:o((()=>[d(r(A.value),1)])),_:1})])),_:1}),n(l,{class:"detail-divider"}),n(l,{class:"detail-row"},{default:o((()=>[n(t,{class:"detail-label"},{default:o((()=>[d("Reimbursement means")])),_:1}),n(t,{class:"detail-value"},{default:o((()=>[d("The principal and interest will be repaid once due")])),_:1})])),_:1}),n(l,{class:"detail-divider"}),n(l,{class:"detail-row"},{default:o((()=>[n(t,{class:"detail-label"},{default:o((()=>[d("Interest")])),_:1}),n(t,{class:"detail-value"},{default:o((()=>[d(r(U.value),1)])),_:1})])),_:1}),n(l,{class:"detail-divider"}),n(l,{class:"detail-row"},{default:o((()=>[n(t,{class:"detail-label"},{default:o((()=>[d("Lenders")])),_:1}),n(t,{class:"detail-value"},{default:o((()=>[d("Intercontinental Exchange")])),_:1})])),_:1})])),_:1}),n(l,{class:"upload-section"},{default:o((()=>[n(t,{class:"upload-title"},{default:o((()=>[d("Credit Loan(photo upload)")])),_:1}),n(l,{class:"upload-container"},{default:o((()=>[(i(!0),f(m,null,p(z.value,((e,a)=>(i(),c(l,{class:"upload-item",key:a,onClick:e=>(e=>{k({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{z.value[e].image=a.tempFilePaths[0],console.log(`upload the ${e+1}th image:`,a.tempFilePaths[0]),g({title:"image upload successful",icon:"success",duration:1500})},fail:e=>{console.error("failed to select image:",e),g({title:"failed to select image",icon:"none",duration:2e3})}})})(a)},{default:o((()=>[n(l,{class:"upload-content"},{default:o((()=>[e.image?(i(),c(E,{key:0,src:e.image,class:"uploaded-photo",mode:"aspectFill"},null,8,["src"])):(i(),c(l,{key:1,class:"upload-placeholder"},{default:o((()=>[n(P,{type:"camera",size:"40",color:"#cccccc"})])),_:1}))])),_:2},1024),n(l,{class:"upload-tip"},{default:o((()=>[n(t,{class:"tip-text"},{default:o((()=>[d(r(e.tip),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),F.value?(i(),c(l,{key:0,class:"cycle-modal",onClick:B},{default:o((()=>[n(l,{class:"cycle-modal-content",onClick:a[1]||(a[1]=_((()=>{}),["stop"]))},{default:o((()=>[(i(),f(m,null,p(S,(e=>n(l,{class:"cycle-option",key:e.value,onClick:a=>(e=>{j.value=e.value,F.value=!1,console.log("Select cycle:",e.value)})(e)},{default:o((()=>[n(t,{class:"cycle-option-text"},{default:o((()=>[d(r(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"]))),64)),n(l,{class:"cycle-option cancel",onClick:B},{default:o((()=>[n(t,{class:"cycle-option-text"},{default:o((()=>[d("cancel")])),_:1})])),_:1})])),_:1})])),_:1})):v("",!0),n(l,{class:"bottom-fixed-area"},{default:o((()=>[n(l,{class:"agreement-row"},{default:o((()=>[n(l,{class:"checkbox-container",onClick:H},{default:o((()=>[n(l,{class:y(["checkbox",{checked:D.value}])},{default:o((()=>[D.value?(i(),c(P,{key:0,type:"checkmarkempty",size:"16",color:"#ffffff"})):v("",!0)])),_:1},8,["class"])])),_:1}),n(t,{class:"agreement-text"},{default:o((()=>[d("I have read and agree Apply for a currency agreement")])),_:1})])),_:1}),n(l,{class:y(["apply-button",{disabled:!D.value}]),onClick:L},{default:o((()=>[n(t,{class:"apply-button-text"},{default:o((()=>[d("Click Apply for credit")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})}}},[["__scopeId","data-v-8c9d7284"]]);export{P as default};
